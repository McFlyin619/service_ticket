{% extends 'base.html' %}
{% block extrahead %}
{% load static %}
    <link href="{% static 'css/addons/fullcalendar.min.css' %}" rel="stylesheet">
{% endblock %}
{% block content %}
<h1 class='text-center'>Upcoming</h1>
<hr>
<a href="{% url 'upcoming:new_post' %}" type='button' class="btn-rounded btn-outline-primary btn-sm"> New </a>
<section class="mt-5">
  <div class="row">
    <div class="col-md-12">
      <div id="calendar2"></div>
    </div>
  </div>
</section>
{% block scripts %}
<script>
$(document).ready(function(){
  var today = new Date();
  $('#calendar2').fullCalendar({
      header: {
              left: 'prev,next today',
              center: 'title',
              right: 'listWeek,month'
      },
      defaultDate: today,
      defaultView: 'month',
      

      eventRender: function (eventObj, $el) {
          $el.popover({
              title: eventObj.title,
              content: eventObj.description,
              trigger: 'hover',
              placement: 'top',
              container: 'body'
          });
      },

      events: [
        {% for p in posts %}  
          {
              title: '{{ p.title }}',
              description: '{{ p.description }}',
              date: '{{ p.date }}',
              allDay: true,
          },
        {% endfor %}
      ]
  });
});
</script>
{% endblock %}
{% endblock%}

